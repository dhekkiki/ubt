
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tryout EPS-TOPIK</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script>
    let currentQuestion = 0;
    let score = 0;
    let timerInterval;
    let timeRemaining = 3000;

    const questions = [
      { number: 1, type: '읽기', question: '마트에서 우유를 샀는데 집에 와서 보니까 우유가 상했습니다. 그래서 마트에 전화를 해서 [  ].', options: ['친구에게 전화를 했어요.', '환불을 요청했어요.', '우유를 마셨어요.', '물을 끓였어요.'], answer: 1 },
      { number: 2, type: '읽기', question: '매주 수요일은 정기휴일입니다. 이용에 착오 없으시기 바랍니다. 무엇에 대한 안내입니까?', options: ['공원', '가게', '병원', '도서관'], answer: 1 }
    ];

    function formatTime(seconds) {
      const min = Math.floor(seconds / 60);
      const sec = seconds % 60;
      return `${min.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;
    }

    function updateTimer() {
      const timerEl = document.getElementById('timer');
      if (timeRemaining <= 0) {
        clearInterval(timerInterval);
        document.getElementById('quiz-container').innerHTML = `<div class='text-xl font-bold text-center text-red-600'>시간 종료! 점수: ${score}/${questions.length}</div>`;
      } else {
        timerEl.textContent = formatTime(timeRemaining);
        timeRemaining--;
      }
    }

    function renderQuestion() {
      const q = questions[currentQuestion];
      document.getElementById('q-number').textContent = `${q.number}. (${q.type})`;
      document.getElementById('q-text').textContent = q.question;
      const optionsContainer = document.getElementById('q-options');
      optionsContainer.innerHTML = '';
      q.options.forEach((opt, i) => {
        const btn = document.createElement('button');
        btn.textContent = `${i + 1}. ${opt}`;
        btn.className = 'block w-full text-left p-2 border rounded mb-2 hover:bg-blue-100';
        btn.onclick = () => {
          if (i === q.answer) score++;
          currentQuestion++;
          if (currentQuestion < questions.length) {
            renderQuestion();
          } else {
            clearInterval(timerInterval);
            document.getElementById('quiz-container').innerHTML = `<div class='text-xl font-bold text-center text-green-600'>시험 종료! 점수: ${score}/${questions.length}</div>`;
          }
        };
        optionsContainer.appendChild(btn);
      });
    }

    window.onload = () => {
      renderQuestion();
      updateTimer();
      timerInterval = setInterval(updateTimer, 1000);
    };
  </script>
</head>
<body class="bg-gray-100 min-h-screen p-4">
  <header class="text-center text-2xl font-bold text-blue-700 mb-4">EPS-TOPIK Tryout</header>
  <div class="text-center text-red-600 font-semibold text-lg mb-4">남은 시간: <span id="timer">50:00</span></div>
  <main class="max-w-2xl mx-auto bg-white p-6 rounded shadow">
    <div id="quiz-container">
      <div class="mb-4">
        <div id="q-number" class="text-lg font-semibold"></div>
        <div id="q-text" class="my-4"></div>
        <div id="q-options"></div>
      </div>
    </div>
  </main>
</body>
</html>
